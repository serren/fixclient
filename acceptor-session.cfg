# ============================================================================
#  QuickFIX/J Acceptor — FIX 4.4 Session Configuration (Sample)
# ============================================================================
#
#  Это пример конфигурационного файла для FIX Acceptor-сессии.
#  Acceptor — серверная сторона, которая слушает входящие подключения
#  от Initiator-клиентов.
#
#  Использование:
#    - Передайте путь к файлу при запуске:
#      java Starter acceptor-session.cfg
#
#  Документация QuickFIX/J:
#    https://www.quickfixj.org/usermanual/2.3.0/usage/configuration.html
#
# ============================================================================

[DEFAULT]

# ── Тип подключения ─────────────────────────────────────────────────────────
# acceptor — сервер, который принимает входящие подключения от Initiator.
ConnectionType=acceptor

# ── Расписание сессии ────────────────────────────────────────────────────────
# Время начала и окончания сессии в формате HH:MM:SS (UTC).
# Значения 00:00:00 / 00:00:00 означают круглосуточную работу.
StartTime=00:00:00
EndTime=00:00:00

# ── Heartbeat ────────────────────────────────────────────────────────────────
# Интервал отправки Heartbeat-сообщений (в секундах).
# Стандартное значение для большинства площадок — 30 сек.
HeartBtInt=30

# ── Хранилище сообщений ─────────────────────────────────────────────────────
# Директория для хранения sequence numbers и тел сообщений.
# QuickFIX/J создаст поддиректории автоматически.
FileStorePath=store

# ── Логирование ──────────────────────────────────────────────────────────────
# Директория для FIX-логов (messages.log, events.log).
FileLogPath=log

# ── Data Dictionary ──────────────────────────────────────────────────────────
# Включает валидацию сообщений по XML-словарю FIX 4.4.
# Y — валидация включена (рекомендуется для разработки).
# N — валидация отключена (может потребоваться для нестандартных реализаций).
UseDataDictionary=Y


[SESSION]

# ── Версия протокола ─────────────────────────────────────────────────────────
# FIX.4.4 — версия протокола. Должна совпадать у обеих сторон.
BeginString=FIX.4.4

# ── Идентификаторы сторон ────────────────────────────────────────────────────
# SenderCompID — идентификатор Acceptor-сервера (кто отправляет).
# TargetCompID — идентификатор Initiator-клиента (кто подключается).
# ВАЖНО: SenderCompID Acceptor-а должен совпадать с TargetCompID Initiator-а
#        и наоборот.
SenderCompID=SERVER
TargetCompID=CLIENT

# ── Порт для прослушивания ───────────────────────────────────────────────────
# Порт, на котором Acceptor слушает входящие TCP-подключения.
# Должен совпадать с SocketConnectPort на стороне Initiator.
SocketAcceptPort=9876

# ── Сброс sequence numbers ──────────────────────────────────────────────────
# Управляет автоматическим сбросом порядковых номеров сообщений.
#
# ResetOnLogon=Y      — сброс при каждом логоне (удобно для разработки).
# ResetOnLogout=Y     — сброс при логауте.
# ResetOnDisconnect=Y — сброс при разрыве соединения.
#
# ВНИМАНИЕ: На продакшене обычно ставят N, чтобы не терять sequence numbers
#           и корректно обрабатывать ResendRequest / SequenceReset.
ResetOnLogon=Y
ResetOnLogout=Y
ResetOnDisconnect=Y
